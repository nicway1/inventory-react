{% extends "base.html" %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/liquid-glass.css') }}">
{% endblock %}

{% block content %}
<!-- Liquid Glass Background -->
<div class="liquid-glass-bg"></div>

<div class="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-md w-full space-y-8">
        <!-- Logo Section with Glass Effect -->
        <div class="text-center">
            <div class="liquid-glass-container" style="display: inline-block; padding: 1rem; margin-bottom: 2rem;">
                <div class="liquid-glass-glow"></div>
                <div class="liquid-glass-content" style="padding: 1rem;">
                    <img src="{{ url_for('static', filename='images/truelglogo.png') }}" 
                         alt="TrueLog Logo" 
                         class="h-32 w-auto object-contain"
                         style="filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));">
                </div>
            </div>
            <h2 class="text-center text-3xl font-extrabold text-white mb-8"
                style="text-shadow: 0 2px 4px rgba(0,0,0,0.3);">
                Sign in to your account
            </h2>
        </div>
        
        <!-- Main Login Glass Container -->
        <div class="liquid-glass-container">
            <div class="liquid-glass-glow"></div>
            <div class="liquid-glass-content">
                {% with messages = get_flashed_messages() %}
                    {% if messages %}
                        {% for message in messages %}
                            <div class="bg-red-500 bg-opacity-20 border border-red-400 border-opacity-30 text-red-100 px-4 py-3 rounded-lg relative mb-4 backdrop-blur-sm" 
                                 role="alert" style="backdrop-filter: blur(10px);">
                                <span class="block sm:inline">{{ message }}</span>
                            </div>
                        {% endfor %}
                    {% endif %}
                {% endwith %}

                <form class="space-y-6" action="{{ url_for('auth.login') }}" method="POST">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                    
                    <div class="space-y-4">
                        <div>
                            <label for="username" class="block text-sm font-medium text-white mb-2" 
                                   style="text-shadow: 0 1px 2px rgba(0,0,0,0.3);">
                                Username
                            </label>
                            <input id="username" 
                                   name="username" 
                                   type="text" 
                                   required 
                                   class="liquid-glass-input"
                                   placeholder="Enter your username">
                        </div>
                        
                        <div>
                            <label for="password" class="block text-sm font-medium text-white mb-2"
                                   style="text-shadow: 0 1px 2px rgba(0,0,0,0.3);">
                                Password
                            </label>
                            <input id="password" 
                                   name="password" 
                                   type="password" 
                                   required 
                                   class="liquid-glass-input"
                                   placeholder="Enter your password">
                        </div>
                    </div>

                    <div class="space-y-4">
                        <button type="submit" class="liquid-glass-button w-full">
                            <span>Sign in</span>
                        </button>
                        
                        <a href="{{ url_for('where_we_operate') }}"
                           class="liquid-glass-button w-full block text-center"
                           style="background: rgba(107, 114, 128, 0.2); border-color: rgba(107, 114, 128, 0.3); text-decoration: none;">
                           <span>Where We Operate</span>
                        </a>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Additional Glass Card for Branding -->
        <div class="liquid-glass-container mt-8" style="text-align: center;">
            <div class="liquid-glass-glow"></div>
            <div class="liquid-glass-content" style="padding: 1.5rem;">
                <p class="text-white text-sm opacity-80" style="text-shadow: 0 1px 2px rgba(0,0,0,0.3);">
                    Experience the future of inventory management
                </p>
                <div class="flex justify-center space-x-4 mt-4">
                    <div class="w-8 h-1 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full opacity-60"></div>
                    <div class="w-8 h-1 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full opacity-60"></div>
                    <div class="w-8 h-1 bg-gradient-to-r from-pink-500 to-blue-400 rounded-full opacity-60"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='js/liquid-glass.js') }}"></script>

<!-- Enhanced Login Page Interactions -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Add enhanced loading effect
    const containers = document.querySelectorAll('.liquid-glass-container');
    containers.forEach((container, index) => {
        container.style.opacity = '0';
        container.style.transform = 'translateY(50px) scale(0.9)';
        
        setTimeout(() => {
            container.style.transition = 'all 0.8s cubic-bezier(0.23, 1, 0.32, 1)';
            container.style.opacity = '1';
            container.style.transform = 'translateY(0) scale(1)';
        }, 200 * index);
    });
    
    // Add typing sound effect simulation
    const inputs = document.querySelectorAll('.liquid-glass-input');
    inputs.forEach(input => {
        input.addEventListener('input', function() {
            // Create visual feedback on typing
            this.style.transform = 'scale(1.02)';
            setTimeout(() => {
                this.style.transform = 'scale(1)';
            }, 100);
        });
        
        // Add enter key submit
        input.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                const form = this.closest('form');
                if (form) {
                    form.submit();
                }
            }
        });
    });
    
    // Enhanced button interactions
    const buttons = document.querySelectorAll('.liquid-glass-button');
    buttons.forEach(button => {
        button.addEventListener('click', function(e) {
            // Create expanding ring effect
            const ring = document.createElement('div');
            ring.style.position = 'absolute';
            ring.style.left = '50%';
            ring.style.top = '50%';
            ring.style.width = '0';
            ring.style.height = '0';
            ring.style.border = '2px solid rgba(255,255,255,0.5)';
            ring.style.borderRadius = '50%';
            ring.style.transform = 'translate(-50%, -50%)';
            ring.style.animation = 'expandRing 0.6s ease-out';
            ring.style.pointerEvents = 'none';
            ring.style.zIndex = '10';
            
            this.style.position = 'relative';
            this.appendChild(ring);
            
            setTimeout(() => {
                if (ring.parentNode) {
                    ring.parentNode.removeChild(ring);
                }
            }, 600);
        });
    });
});

// Add expand ring animation
const style = document.createElement('style');
style.textContent = `
    @keyframes expandRing {
        0% {
            width: 0;
            height: 0;
            opacity: 1;
        }
        100% {
            width: 100px;
            height: 100px;
            opacity: 0;
        }
    }
`;
document.head.appendChild(style);
</script>
{% endblock %} 