{% set style = config.get('style', 'photo') if config else 'photo' %}
{% set data = widget_data.get('customer_stats', {}) %}

{% if style == 'photo' %}
<!-- Photo Style - AI Generated Image -->
<a href="{{ url_for('inventory.list_customer_users') }}" style="display: block; text-decoration: none; height: 100%; min-height: 180px; position: relative; border-radius: 12px; overflow: hidden;">
    <img src="{{ url_for('static', filename='images/widgets/customer_overview.png') }}" alt="Customer Overview" style="width: 100%; height: 100%; object-fit: cover; position: absolute; inset: 0;">
    <div style="position: absolute; inset: 0; background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.2) 50%, rgba(0,0,0,0) 100%);"></div>
    <div style="position: absolute; bottom: 0; left: 0; right: 0; padding: 1rem; color: white;">
        <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.25rem;">
            <i class="fas fa-users" style="font-size: 1.25rem;"></i>
            <span style="font-size: 1rem; font-weight: 600;">Customer Overview</span>
        </div>
        <div style="font-size: 0.75rem; opacity: 0.9;">{{ data.get('total', 0) | default(0) }} Registered Customers</div>
    </div>
</a>
{% else %}
<!-- Classic Style - Stats Display -->
<div class="stat-value text-blue">{{ data.get('total', 0) | default(0) }}</div>
<div class="stat-label">Registered Customers</div>
<a href="{{ url_for('inventory.list_customer_users') }}" class="stat-action">
    Manage Customers <i class="fas fa-arrow-right"></i>
</a>
{% endif %}
